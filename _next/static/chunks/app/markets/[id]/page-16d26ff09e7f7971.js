(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{4831:function(e,t,a){Promise.resolve().then(a.t.bind(a,9167,23)),Promise.resolve().then(a.bind(a,7600))},9167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{suspense:function(){return suspense},NoSSR:function(){return NoSSR}});let s=a(1283);function suspense(){let e=Error(s.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=s.NEXT_DYNAMIC_NO_SSR_CODE,e}function NoSSR(e){let{children:t}=e;return t}},7600:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ClientMarketDetail}});var s=a(7437),r=a(2265),l=a(1396),n=a.n(l),o=a(5800),i=a(2410);function ClientMarketDetail(e){let{marketId:t,initialData:a}=e,[l,c]=(0,r.useState)(a||null),[d,m]=(0,r.useState)(!a),[h,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{a||async function(){if(!t){u("Market ID is required"),m(!1);return}try{m(!0),console.log("Fetching market with ID:",t);{await new Promise(e=>setTimeout(e,500));let e=getFallbackData(t);console.log("Using fallback data for market:",e),c(e),u(null)}}catch(a){console.error("Error fetching market details:",a);let e=getFallbackData(t);e?(console.log("Using fallback data after error"),c(e),u(null)):u("Failed to fetch market details. Please try again.")}finally{m(!1)}}()},[t,a]);let getFallbackData=e=>({1000073:{id:"1000073",marketname:"Capitol Hill Farmers Market",Address:"200 North Capitol Street",city:"Washington",State:"DC",zip:"20001",Schedule:"Sunday, 9:00 AM - 1:00 PM",Products:"Vegetables, Fruits, Cheese, Baked goods",lat:38.8921,lon:-77.0096},1000078:{id:"1000078",marketname:"Union Square Greenmarket",Address:"1 Union Square West",city:"New York",State:"NY",zip:"10003",Schedule:"Monday, Wednesday, Friday, Saturday, 8:00 AM - 6:00 PM",Products:"Vegetables, Fruits, Meat, Dairy, Baked goods, Plants",lat:40.7359,lon:-73.9911},1000079:{id:"1000079",marketname:"Ferry Plaza Farmers Market",Address:"1 Ferry Building",city:"San Francisco",State:"CA",zip:"94111",Schedule:"Tuesday, Thursday, Saturday, 8:00 AM - 2:00 PM",Products:"Organic produce, Seafood, Flowers, Artisanal foods",lat:37.7956,lon:-122.3934},1000011:{id:"1000011",marketname:"Portland Farmers Market",Address:"92 SW Naito Pkwy",city:"Portland",State:"OR",zip:"97204",Schedule:"Saturday, 8:30 AM - 2:00 PM",Products:"Local produce, Crafts, Food vendors",lat:45.5221,lon:-122.6728}})[e]||{id:e,marketname:"Sample Farmers Market",Address:"123 Market Street",city:"Anytown",State:"US",zip:"12345",Schedule:"Saturday, 9:00 AM - 1:00 PM",Products:"Vegetables, Fruits, Baked goods",lat:40.7128,lon:-74.006},getMarketName=()=>l?l.marketname||l.MarketName||l.listing_name||"Farmers Market Details":"",getAddress=()=>{if(!l)return[];let e=[];l.Address&&e.push(l.Address),l.street&&e.push(l.street);let t="";return(l.city||l.City)&&(t+=l.city||l.City),(l.state||l.State)&&t?t+=", ".concat(l.state||l.State):(l.state||l.State)&&(t+=l.state||l.State),(l.zip||l.Zip)&&(t+=" ".concat(l.zip||l.Zip)),t&&e.push(t),e},getProducts=()=>{if(!l)return[];if(l.Products)return l.Products.split(",").map(e=>e.trim());let e=[];return l.Organic&&"Y"===l.Organic&&e.push("Organic"),l.Bakedgoods&&"Y"===l.Bakedgoods&&e.push("Baked Goods"),l.Cheese&&"Y"===l.Cheese&&e.push("Cheese"),l.Crafts&&"Y"===l.Crafts&&e.push("Crafts"),l.Flowers&&"Y"===l.Flowers&&e.push("Flowers"),l.Eggs&&"Y"===l.Eggs&&e.push("Eggs"),l.Seafood&&"Y"===l.Seafood&&e.push("Seafood"),l.Herbs&&"Y"===l.Herbs&&e.push("Herbs"),l.Vegetables&&"Y"===l.Vegetables&&e.push("Vegetables"),l.Honey&&"Y"===l.Honey&&e.push("Honey"),l.Jams&&"Y"===l.Jams&&e.push("Jams"),l.Meat&&"Y"===l.Meat&&e.push("Meat"),l.Nuts&&"Y"===l.Nuts&&e.push("Nuts"),l.Plants&&"Y"===l.Plants&&e.push("Plants"),l.Poultry&&"Y"===l.Poultry&&e.push("Poultry"),l.Prepared&&"Y"===l.Prepared&&e.push("Prepared Food"),l.Soap&&"Y"===l.Soap&&e.push("Soap"),l.Trees&&"Y"===l.Trees&&e.push("Trees"),l.Wine&&"Y"===l.Wine&&e.push("Wine"),e},getMapUrl=()=>l?l.lat&&l.lon?"https://maps.google.com/?q=".concat(l.lat,",").concat(l.lon):l.Latitude&&l.Longitude?"https://maps.google.com/?q=".concat(l.Latitude,",").concat(l.Longitude):l.location_y&&l.location_x?"https://maps.google.com/?q=".concat(l.location_y,",").concat(l.location_x):null:null;return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,s.jsxs)(n(),{href:(0,o.K3)("/"),className:"inline-flex items-center text-green-600 hover:text-green-800 mb-6",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Home"]}),d?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):h?(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:(0,s.jsx)("p",{className:"text-red-700",children:h})}):l?(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,s.jsx)("div",{className:"relative h-48 sm:h-64 bg-green-50",children:(0,s.jsx)(i.Z,{src:"/images/market-placeholder.jpg",alt:getMarketName(),fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 text-gray-800",children:getMarketName()}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-2 text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Location"]}),getAddress().length>0?(0,s.jsxs)("div",{className:"text-gray-700",children:[getAddress().map((e,t)=>(0,s.jsx)("p",{children:e},t)),getMapUrl()&&(0,s.jsxs)("a",{href:getMapUrl(),target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-blue-600 hover:text-blue-800",children:["View on Map",(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),(0,s.jsx)("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})]})]}):(0,s.jsx)("p",{className:"text-gray-500 italic",children:"Address not available"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-2 text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Hours & Schedule"]}),l&&(l.Schedule||l.season1date)?(0,s.jsx)("p",{className:"text-gray-700",children:l&&(l.Schedule||l.season1date)||null}):(0,s.jsx)("p",{className:"text-gray-500 italic",children:"Schedule not available"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold mb-3 text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-green-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})}),"Available Products"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:getProducts().length>0?getProducts().map((e,t)=>(0,s.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:e},t)):(0,s.jsx)("p",{className:"text-gray-500 italic",children:"Product information not available"})})]}),(l.contact_name||l.contact_email||l.contact_phone||l.website)&&(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-4 mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Contact Information"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[l.contact_name&&(0,s.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),l.contact_name]}),l.contact_email&&(0,s.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,s.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),(0,s.jsx)("a",{href:"mailto:".concat(l.contact_email),className:"text-blue-600 hover:underline",children:l.contact_email})]}),l.contact_phone&&(0,s.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),(0,s.jsx)("a",{href:"tel:".concat(l.contact_phone),className:"text-blue-600 hover:underline",children:l.contact_phone})]}),l.website&&(0,s.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z",clipRule:"evenodd"})}),(0,s.jsx)("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Website"})]})]})]})]})]}):(0,s.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded shadow-sm",children:(0,s.jsx)("p",{className:"text-yellow-700",children:"Market not found. It may have been removed or is temporarily unavailable."})})]})}},2410:function(e,t,a){"use strict";var s=a(7437);a(2265);var r=a(6691),l=a.n(r),n=a(5800),o=a(3267),i=a(8416);t.Z=e=>{let{src:t,alt:a,width:r,height:c,className:d="",fill:m=!1,priority:h=!1,fallback:u="/farm-basket-logo.svg",sizes:g,style:p,...x}=e;console.log("Image component input src:",t);let f=(0,n.K3)(t);console.log("Image component final path:",f);let v=f.match(/\/find-my-farmers-market\//g);return(v&&v.length>1&&(console.error("DUPLICATE PATH DETECTED in Image component: ".concat(v.length," repetitions of /find-my-farmers-market/")),console.error("Full path:",f)),i.BB)?(0,s.jsx)(o.Z,{src:f,alt:a,width:r,height:c,className:d,loading:h?"eager":"lazy",style:{...p,objectFit:m?"cover":void 0,position:m?"absolute":void 0,width:m?"100%":void 0,height:m?"100%":void 0},skipPathProcessing:!0}):(0,s.jsx)(l(),{src:f,alt:a,width:m?void 0:r||100,height:m?void 0:c||100,className:d,fill:m,priority:h,sizes:g,unoptimized:!0,style:p,...x})}},3267:function(e,t,a){"use strict";var s=a(7437);a(2265);var r=a(5800);t.Z=e=>{let{src:t,alt:a,width:l,height:n,className:o="",loading:i="lazy",style:c,skipPathProcessing:d=!1}=e;console.log("StaticImage component input src:",t);let m=d?t:(0,r.K3)(t);console.log("StaticImage component final path:",m);let h=m.match(/\/find-my-farmers-market\//g);return h&&h.length>1&&(console.error("DUPLICATE PATH DETECTED in StaticImage component: ".concat(h.length," repetitions of /find-my-farmers-market/")),console.error("Full path:",m)),(0,s.jsx)("img",{src:m,alt:a,width:l,height:n,className:o,loading:i,style:c})}},5800:function(e,t,a){"use strict";function getAssetPath(e){console.log("getAssetPath js input:",e);let t=e.match(/\/find-my-farmers-market\//g);t&&t.length>0&&(console.error("Input path already contains ".concat(t.length," repetitions of /find-my-farmers-market/")),console.error("Input path:",e));let a="/find-my-farmers-market";if(!a||e.includes(a)||e.includes(a.slice(1)))return e.startsWith("/")?e:"/".concat(e);let s=e.startsWith("/")?e.slice(1):e,r="".concat(a,"/").concat(s);return console.log("getAssetPath js output:",r),r}a.d(t,{K3:function(){return getAssetPath}})},8416:function(e,t,a){"use strict";a.d(t,{BB:function(){return s},sb:function(){return r}});let s=!0,r=s?"/find-my-farmers-market":""}},function(e){e.O(0,[176,691,971,472,744],function(){return e(e.s=4831)}),_N_E=e.O()}]);